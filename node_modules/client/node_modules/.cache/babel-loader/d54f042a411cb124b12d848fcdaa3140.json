{"ast":null,"code":"import axios from 'axios';\nimport * as actions from \"../api\";\n\nconst api = _ref => {\n  let {\n    dispatch\n  } = _ref;\n  return next => async action => {\n    if (action.type !== actions.apiCallBegan.type) {\n      return next(action);\n    }\n\n    next(action);\n    const {\n      url,\n      method,\n      onSuccess,\n      onError,\n      data\n    } = action.payload;\n\n    try {\n      const response = await axios.request({\n        baseURL: 'http://localhost:5000/api',\n        url,\n        method,\n        data\n      });\n      console.log(\"yesssdccccccccccccccc ir\");\n      dispatch(actions.apiCallSuccess(response.data));\n      onSuccess && dispatch({\n        type: onSuccess,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch(actions.apiCallFailed(error));\n      onError && dispatch({\n        type: actions.apiCallFailed,\n        payload: error\n      });\n    }\n  };\n};\n\nexport default api;","map":{"version":3,"sources":["/home/adesbarat000/redux-test/client/src/store/middlwear/api.js"],"names":["axios","actions","api","dispatch","next","action","type","apiCallBegan","url","method","onSuccess","onError","data","payload","response","request","baseURL","console","log","apiCallSuccess","error","apiCallFailed"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,OAAZ,MAAyB,QAAzB;;AAEA,MAAMC,GAAG,GAAG;AAAA,MAAC;AAACC,IAAAA;AAAD,GAAD;AAAA,SAAgBC,IAAI,IAAI,MAAMC,MAAN,IAAgB;AAChD,QAAGA,MAAM,CAACC,IAAP,KAAgBL,OAAO,CAACM,YAAR,CAAqBD,IAAxC,EAA6C;AACzC,aAAOF,IAAI,CAACC,MAAD,CAAX;AACH;;AACDD,IAAAA,IAAI,CAACC,MAAD,CAAJ;AACA,UAAM;AAACG,MAAAA,GAAD;AAAMC,MAAAA,MAAN;AAAcC,MAAAA,SAAd;AAAyBC,MAAAA,OAAzB;AAAkCC,MAAAA;AAAlC,QAA0CP,MAAM,CAACQ,OAAvD;;AACA,QAAG;AACC,YAAMC,QAAQ,GAAG,MAAMd,KAAK,CAACe,OAAN,CAAc;AACjCC,QAAAA,OAAO,EAAE,2BADwB;AAEjCR,QAAAA,GAFiC;AAGjCC,QAAAA,MAHiC;AAIjCG,QAAAA;AAJiC,OAAd,CAAvB;AAMAK,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACAf,MAAAA,QAAQ,CAACF,OAAO,CAACkB,cAAR,CAAuBL,QAAQ,CAACF,IAAhC,CAAD,CAAR;AACAF,MAAAA,SAAS,IAAIP,QAAQ,CAAC;AAACG,QAAAA,IAAI,EAAEI,SAAP;AAAkBG,QAAAA,OAAO,EAAEC,QAAQ,CAACF;AAApC,OAAD,CAArB;AACH,KAVD,CAUE,OAAMQ,KAAN,EAAY;AACVjB,MAAAA,QAAQ,CAACF,OAAO,CAACoB,aAAR,CAAsBD,KAAtB,CAAD,CAAR;AACAT,MAAAA,OAAO,IAAIR,QAAQ,CAAC;AAACG,QAAAA,IAAI,EAAEL,OAAO,CAACoB,aAAf;AAA8BR,QAAAA,OAAO,EAAEO;AAAvC,OAAD,CAAnB;AACH;AACJ,GApBW;AAAA,CAAZ;;AAsBA,eAAelB,GAAf","sourcesContent":["import axios from 'axios';\nimport * as actions from \"../api\";\n\nconst api = ({dispatch}) => next => async action => {\n    if(action.type !== actions.apiCallBegan.type){\n        return next(action)\n    }\n    next(action);\n    const {url, method, onSuccess, onError, data} = action.payload;\n    try{\n        const response = await axios.request({\n            baseURL: 'http://localhost:5000/api',\n            url,\n            method,\n            data\n        });\n        console.log(\"yesssdccccccccccccccc ir\")\n        dispatch(actions.apiCallSuccess(response.data));\n        onSuccess && dispatch({type: onSuccess, payload: response.data});\n    } catch(error){\n        dispatch(actions.apiCallFailed(error));\n        onError && dispatch({type: actions.apiCallFailed, payload: error});\n    }\n}\n\nexport default api;"]},"metadata":{},"sourceType":"module"}