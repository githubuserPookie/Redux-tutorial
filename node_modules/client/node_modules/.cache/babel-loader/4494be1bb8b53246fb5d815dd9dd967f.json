{"ast":null,"code":"import axios from 'axios';\nimport * as actions from \"../api\";\nconst action = {\n  type: 'apiCallBegan',\n  payload: {\n    url: '/bugs',\n    method: 'get',\n    data: {},\n    onSuccess: 'bugReceived',\n    onError: 'apiRequestFailed'\n  }\n};\n\nconst api = _ref => {\n  let {\n    dispatch\n  } = _ref;\n  return next => async action => {\n    if (action.type !== actions.api) {\n      return next(action);\n    }\n\n    next(action);\n    const {\n      url,\n      method,\n      onSuccess,\n      onError,\n      data\n    } = action.payload;\n\n    try {\n      const response = await axios.request({\n        baseURL: 'http://localhost:5000/api',\n        url,\n        method,\n        data\n      });\n      console.log(\"yesssir\");\n      dispatch({\n        type: onSuccess,\n        payload: response.data\n      });\n    } catch (error) {\n      console.log(\"fail\");\n      dispatch({\n        type: onError,\n        payload: error\n      });\n    }\n  };\n};\n\nexport default api;","map":{"version":3,"sources":["/home/adesbarat000/redux-test/client/src/store/middlwear/api.js"],"names":["axios","actions","action","type","payload","url","method","data","onSuccess","onError","api","dispatch","next","response","request","baseURL","console","log","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,OAAZ,MAAyB,QAAzB;AAEA,MAAMC,MAAM,GAAG;AACXC,EAAAA,IAAI,EAAE,cADK;AAEXC,EAAAA,OAAO,EAAE;AACLC,IAAAA,GAAG,EAAE,OADA;AAELC,IAAAA,MAAM,EAAE,KAFH;AAGLC,IAAAA,IAAI,EAAE,EAHD;AAILC,IAAAA,SAAS,EAAE,aAJN;AAKLC,IAAAA,OAAO,EAAE;AALJ;AAFE,CAAf;;AAWA,MAAMC,GAAG,GAAG;AAAA,MAAC;AAACC,IAAAA;AAAD,GAAD;AAAA,SAAgBC,IAAI,IAAI,MAAMV,MAAN,IAAgB;AAChD,QAAGA,MAAM,CAACC,IAAP,KAAgBF,OAAO,CAACS,GAA3B,EAA+B;AAC3B,aAAOE,IAAI,CAACV,MAAD,CAAX;AACH;;AACDU,IAAAA,IAAI,CAACV,MAAD,CAAJ;AACA,UAAM;AAACG,MAAAA,GAAD;AAAMC,MAAAA,MAAN;AAAcE,MAAAA,SAAd;AAAyBC,MAAAA,OAAzB;AAAkCF,MAAAA;AAAlC,QAA0CL,MAAM,CAACE,OAAvD;;AACA,QAAG;AACC,YAAMS,QAAQ,GAAG,MAAMb,KAAK,CAACc,OAAN,CAAc;AACjCC,QAAAA,OAAO,EAAE,2BADwB;AAEjCV,QAAAA,GAFiC;AAGjCC,QAAAA,MAHiC;AAIjCC,QAAAA;AAJiC,OAAd,CAAvB;AAMAS,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAN,MAAAA,QAAQ,CAAC;AAACR,QAAAA,IAAI,EAAEK,SAAP;AAAkBJ,QAAAA,OAAO,EAAES,QAAQ,CAACN;AAApC,OAAD,CAAR;AACH,KATD,CASE,OAAMW,KAAN,EAAY;AACVF,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAN,MAAAA,QAAQ,CAAC;AAACR,QAAAA,IAAI,EAAEM,OAAP;AAAgBL,QAAAA,OAAO,EAAEc;AAAzB,OAAD,CAAR;AACH;AACJ,GAnBW;AAAA,CAAZ;;AAqBA,eAAeR,GAAf","sourcesContent":["import axios from 'axios';\nimport * as actions from \"../api\";\n\nconst action = {\n    type: 'apiCallBegan',\n    payload: {\n        url: '/bugs',\n        method: 'get',\n        data: {},\n        onSuccess: 'bugReceived',\n        onError: 'apiRequestFailed'\n    }\n}\n\nconst api = ({dispatch}) => next => async action => {\n    if(action.type !== actions.api){\n        return next(action)\n    }\n    next(action);\n    const {url, method, onSuccess, onError, data} = action.payload;\n    try{\n        const response = await axios.request({\n            baseURL: 'http://localhost:5000/api',\n            url,\n            method,\n            data\n        });\n        console.log(\"yesssir\")\n        dispatch({type: onSuccess, payload: response.data});\n    } catch(error){\n        console.log(\"fail\")\n        dispatch({type: onError, payload: error})\n    }\n}\n\nexport default api;"]},"metadata":{},"sourceType":"module"}